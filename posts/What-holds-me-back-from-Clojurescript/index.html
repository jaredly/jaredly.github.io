<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf8"/>
<meta name="description" content="Thoughts about programming, mostly"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="HandheldFriendly" content="True"/>
<meta name="MobileOptimized" content="320"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="What Holds Me Back From Clojurescript | Jared Forsyth.com"/>
<meta name="twitter:description" content="Thoughts about programming, mostly"/>
<meta name="twitter:image" content="https://jaredforsyth.com/images/logo/JF_black_128.png"/>
<meta name="twitter:site" content="https://jaredforsyth.com"/>
<meta name="twitter:creator" content="@jaredforsyth"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="What Holds Me Back From Clojurescript | Jared Forsyth.com"/>
<meta property="og:description" content="Thoughts about programming, mostly"/>
<link rel="shortcut icon" href="/images/logo/JF_black_32.png"></link>
<title>
 
What Holds Me Back From Clojurescript | Jared Forsyth.com
 
</title>
<link rel="stylesheet" href="//brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Merriweather:200,200i,400,400i,700,700i/Open+Sans:400,400i,700,700i"></link>
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet"></link>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-one-light.min.css" rel="stylesheet" media="not (prefers-color-scheme: dark)"></link>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-vsc-dark-plus.min.css" rel="stylesheet" media="(prefers-color-scheme: dark)"></link>
<script>
if (localStorage.viewMode) {
                    document.getElementsByTagName('html')[0].className = localStorage.viewMode;
                }
                window.addEventListener('load', () => {
                    const node = document.createElement('div');
                    const dark = document.createElement('a');
                    const light = document.createElement('a');
                    dark.className = 'dark-mode-button';
                    light.className = 'light-mode-button';

                    window.setMode = (mode) => {
                        if (localStorage.viewMode === mode) {
                            localStorage.viewMode = ''
                            document.getElementsByTagName('html')[0].className = 'mode-change'

                        } else {
                            localStorage.viewMode = mode
                            document.getElementsByTagName('html')[0].className = localStorage.viewMode + ' mode-change';
                        }
                    }
                    dark.onclick = (evt) => {
                        setMode('dark-mode');
                        evt.preventDefault()
                    }
                    light.onclick = (evt) => {
                        setMode('light-mode');
                        evt.preventDefault()
                    }

                    dark.textContent = 'dark mode';
                    dark.href = 'javascript:setMode("dark-mode")'
                    light.textContent = 'light mode';
                    light.href = 'javascript:setMode("light-mode")'
                    node.appendChild(dark)
                    node.appendChild(document.createTextNode(' ¬∑ '));
                    node.appendChild(light)
                    Object.assign(node.style, {
                        position: 'absolute',
                        top: '8px',
                        right: '8px',
                    });
                    document.body.appendChild(node);
                })
                
</script>
<style>

    html.mode-change {
        transition: background-color .1s ease;
    }
    html.light-mode, :root {
        
        --color-text: #333;
        --color-lightText: #999;
        --color-red: #692900;
        --color-lightOrange: #fff4ef;
        --color-darkGreen: #147429;
        --color-green: #1fad3e;
        --color-code: #ffede4;
        --color-codeText: #692900;
        background-color: white;
    
    }

    @media (prefers-color-scheme: dark) {
        :root {
            
        --color-text: #ccc;
        --color-lightText: #999;
        --color-red: #1dd442;
        --color-lightOrange: #0f0d0d;
        --color-darkGreen: #d8ac7e;
        --color-green: #ef8d27;
        --color-code: #361402;
        --color-codeText: #f9d6bf;
        background-color: #21262c;
    
        }
    }

    html.dark-mode {
        
        --color-text: #ccc;
        --color-lightText: #999;
        --color-red: #1dd442;
        --color-lightOrange: #0f0d0d;
        --color-darkGreen: #d8ac7e;
        --color-green: #ef8d27;
        --color-code: #361402;
        --color-codeText: #f9d6bf;
        background-color: #21262c;
    
    }

    main a:not([href^="/"]):not([href^="#"]):after {
        color: red;
        content: 'üåê';
        font-size: 70%;
        margin-left: 4px;
    }

    .dark-mode-button, .light-mode-button {
        text-decoration: none;
        color: var(--color-text);
    }

    html.dark-mode .dark-mode-button,
    html.light-mode .light-mode-button {
        text-decoration: underline;
        color: var(--color-green);
    }

    code[class*=language-], pre[class*=language-] {
        font-size: 90% !important;
    }

    #comments p {
        font-size: 90%;
    }
    #comments p:last-child {
        padding-bottom: 0;
    }
    #hn p {
        font-size: 60%;
        line-height: 1.8em;
    }
    #hn p:last-child {
        padding-bottom: 0;
    }

      div {
        flex-shrink: 0;
        flex-wrap: wrap;
        box-sizing: border-box;
        min-height: 0;
        min-width: 0;
      }
      span {
        box-sizing: border-box;
      }
      code[class*=language-], pre[class*=language-],
      pre {
        margin: 0;
        margin-bottom: 1.5em;
      }
      pre {
        line-height: 18px;
        font-size: 16px;
        /* white-space: pre-wrap; */
        overflow: auto;
        max-width: 100%;
        padding: 15px;
        /* border: 1px solid #ddd; */
        font-family: Inconsolata;
        background-color: var(--color-code);
        color: var(--color-codeText);
        border-radius: 4px;
      }
      img {
        max-width: 100%;
      }
      li > code,
      a > code,
      p > code {
        font-size: 90%;
        padding: 4px;
        background-color: var(--color-code);
        color: var(--color-codeText);
        border-radius: 4px;
        hyphens: none;
      }
      blockquote {
          margin: 0;
          margin-bottom: 1em;
          padding-left: 20px;
          border-left: 5px solid var(--color-green);
          font-style: italic;
      }
      blockquote.twitter-tweet {
        font-style: normal;
        border: 1px solid var(--color-green);
        border-radius: 4px;
        padding: 8px 16px;
        font-size: 20px;
      }
      div.note {
        font-style: italic;
        flex-wrap: nowrap;
        display: flex;
        align-items: flex-start;
        font-size: 90%;
      }
      div.note::before {
        margin-right: 8px;
        content: 'i';
        border: 1px solid #ccc;
        padding: 2px 10px;
        border-radius: 50px;
        font-family: arial;
        font-style: normal;
        font-size: 20px;
        display: inline;
        line-height: 1;
        margin-top: 5px;
      }
      a {
        color: var(--color-green);
        text-decoration: none;
        /* color: #28cc4c;
        text-decoration-color: #28cc4c; */
      }
      a:hover {
        text-decoration: underline;
      }
      h1 > a, h2 > a, h3 > a, h4 > a, h5 > a, h6 > a {
        text-decoration: none;
        color: inherit;
      }
      h1 > a:hover, h2 > a:hover, h3 > a:hover, h4 > a:hover, h5 > a:hover, h6 > a:hover,
      h1 > a:focus, h2 > a:focus, h3 > a:focus, h4 > a:focus, h5 > a:focus, h6 > a:focus {
        text-decoration: underline;
        color: var(--color-green);
      }
      ul, ol {
        margin-top: 0;
      }
      .post-body h1 {
        font-family: Open sans;
      }
      h2 {
        padding-bottom: 16px;
        font-size: 32px;
        margin: 0;
        margin-top: 1em;
      }
      p {
        margin: 0;
        padding-bottom: 1em;
      }
      blockquote > p:last-child {
        padding-bottom: 0;
      }
      h3 {
        margin-bottom: 8px;
        font-family: Open sans;
        font-weight: normal;
        margin-top: 8px;
        color: #6e6e6e;
        font-size: 30px;
      }
      h5 {
        font-family: open sans;
        margin: 0;
        margin-top: 16px;
      }
      /* a:visited {
        color: #333;
      } */
      
</style>
<style>
 
.style-bb1ef180179301565afe9016b11ab16ed7413965 {
  padding: 0 16px;
  flex-shrink: 1;
  overflow: auto;
}
.style-6ae0154d10d8b0dbf4c75fa5adb959a39f9a7739 {
  text-decoration: none;
  color: inherit;
}
.style-6ae0154d10d8b0dbf4c75fa5adb959a39f9a7739:hover {
  text-decoration: underline;
}
.style-989db2448f309bfdd99b513f37c84b8f5794d2b5 {

}
.style-0044f7a33153e82f3678591650843ffdc0f020fe {
  font-size: 16px;
  margin-bottom: 16px;
  display: block;
  line-height: 20px;
  color: currentColor;
  text-decoration: none;
}
.style-0044f7a33153e82f3678591650843ffdc0f020fe:hover {
  text-decoration: underline;
}
.style-600fca2a90c30e17c2a20ea4f2f653cf60098d5b {
  color: var(--color-lightText);
  display: flex;
  flex-direction: row;
}
.style-92b92032b41d8e558573c6926aeaeeb3456b873e {
  margin-top: 100px;
  font-size: 56px;
  margin-bottom: 16px;
  padding-top: 32px;
}
@media(max-width: 600px) {
.style-92b92032b41d8e558573c6926aeaeeb3456b873e {
  font-size: 32px;
  margin-top: 40px;
}
}
@media(max-width: 600px) {
.style-92b92032b41d8e558573c6926aeaeeb3456b873e {
  margin-top: 40px;
}
}
.style-d9a01dccc38720dfd616bfebd6cb0499248e200b {
  color: var(--color-lightText);
  font-family: Open sans;
  font-size: 14px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
}
.style-fde29ab0420a52958e612784d49ff404f48528ae {
  text-decoration: none;
}
.style-cda9f9781eb5258ad50a00716278a6233b0a6313 {
  font-size: 22px;
  line-height: 40px;
  hyphens: auto;
  font-family: Merriweather;
  font-weight: 200;
}
@media(max-width: 600px) {
.style-cda9f9781eb5258ad50a00716278a6233b0a6313 {
  font-size: 20px;
  line-height: 30px;
}
}
.style-cd92fd8450a8c6641a2f0f2f0daac33e94b99b35 {
  font-family: Linux Libertine;
  color: var(--color-text);
  margin: 0;
  padding: 0;
}
.style-dc1f12ded94275ec46fa7abd837a78fd6347d5e4 {
  position: fixed;
  top: 10px;
  left: 10px;
  padding: 8px;
  background-color: black;
}
@media(min-width: 1061px) {
.style-dc1f12ded94275ec46fa7abd837a78fd6347d5e4 {
  display: none;
}
}
.style-f2140e5d177bae23c12d832734b5ce5fb0b21aa9 {
  height: 32px;
  width: 32px;
  background-size: cover;
}
.style-0da148fa6be0269fa24b9fd57a9a57aeb5297d0d {
  flex-direction: row;
  padding: 0 20px;
  display: flex;
  justify-content: center;
  align-items: stretch;
  flex-wrap: wrap;
  justify-content: flex-start;
  flex-wrap: nowrap;
}
@media(max-width: 1060px) {
.style-0da148fa6be0269fa24b9fd57a9a57aeb5297d0d {
  justify-content: center;
}
}
@media(max-width: 835px) {
.style-0da148fa6be0269fa24b9fd57a9a57aeb5297d0d {
  padding: 8px;
}
}
.style-9dc27aab0a26df3e65720efcd4de1d4b5e9e64f8 {
  background-color: var(--color-lightOrange);
  max-width: 400px;
  flex-shrink: 1;
  min-width: 300px;
  padding: 40px;
}
@media(max-width: 835px) {
.style-9dc27aab0a26df3e65720efcd4de1d4b5e9e64f8 {
  padding: 16px;
}
}
@media(max-width: 1650px) {
.style-9dc27aab0a26df3e65720efcd4de1d4b5e9e64f8 {
  padding: 20px;
}
}
@media(max-width: 1060px) {
.style-9dc27aab0a26df3e65720efcd4de1d4b5e9e64f8 {
  display: none;
}
}
.style-070d16e7de42659938f24594f2b149329d23dc29 {
  top: 40px;
}
@media(max-width: 835px) {
.style-070d16e7de42659938f24594f2b149329d23dc29 {
  top: 16px;
}
}
@media(max-width: 1650px) {
.style-070d16e7de42659938f24594f2b149329d23dc29 {
  top: 20px;
}
}
@media(min-width: 835px) {
.style-070d16e7de42659938f24594f2b149329d23dc29 {
  position: sticky;
  height: calc(100vh - 80px);
  display: flex;
  flex-wrap: nowrap;
  flex-direction: column;
}
}
.style-3ba81e27d2f8c377a36c12c6516f97660ec3facb {
  margin: 0 auto;
  width: 160px;
  overflow: hidden;
  height: 160px;
  display: block;
  border-radius: 50%;
  border: 5px solid white;
  background-color: white;
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
}
.style-1acf1679204e721558d0d3292da71a07307421a4 {
  display: block;
  width: 160px;
  height: 160px;
}
.style-0038018cf11394bd2f3cad50b7fc1d34d431f8b0 {
  text-align: center;
  font-size: 36px;
}
.style-683404bf430036582caafb930681970b717e3e38 {
  font-size: 24px;
  line-height: 36px;
  flex: 1;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  text-align: left;
}
.style-da667265deef9362aecb588a818eaba3fef53068 {
  margin-bottom: 40px;
  justify-content: center;
  display: flex;
  flex-direction: row;
}
.style-da667265deef9362aecb588a818eaba3fef53068 a {
  margin: 0 8px;
}
.style-74e366023ce61639103d5fb83af3a27e33357285 {
  font-family: Open sans, sans-serif;
  font-size: 20px;
}
.style-74e366023ce61639103d5fb83af3a27e33357285 a {
  text-decoration: none;
}
.style-74e366023ce61639103d5fb83af3a27e33357285 a:hover {
  text-decoration: underline;
}
.style-ce615c601d9c9081e34880573a9c0d6582fa6737 {

}
@media(max-width: 1060px) {
.style-ce615c601d9c9081e34880573a9c0d6582fa6737 {
  display: none;
}
}
.style-cea2d442503956980c7eeb14acb78a14064ee9d4 {
  max-width: 700px;
}
@media(max-width: 1060px) {
.style-cea2d442503956980c7eeb14acb78a14064ee9d4 {
  flex-shrink: 1;
  min-width: 0;
}
}
 
</style>

                
</head>
<body class="style-cd92fd8450a8c6641a2f0f2f0daac33e94b99b35" lang="en">
<a href="/" class="style-dc1f12ded94275ec46fa7abd837a78fd6347d5e4"><div class="style-f2140e5d177bae23c12d832734b5ce5fb0b21aa9" style="background-image: url(/images/logo/JF_64.png)"></div></a>
<div class="style-0da148fa6be0269fa24b9fd57a9a57aeb5297d0d">
<div class="style-9dc27aab0a26df3e65720efcd4de1d4b5e9e64f8">
<div class="style-070d16e7de42659938f24594f2b149329d23dc29">
<a href="/" class="style-3ba81e27d2f8c377a36c12c6516f97660ec3facb"><img src="https://www.gravatar.com/avatar/313878fc8f316fc3fe4443b13913d0a4.png?s=200" alt="Jared Forsyth" class="style-1acf1679204e721558d0d3292da71a07307421a4"/></a>
<div style="height: 40px"></div>
<div class="style-0038018cf11394bd2f3cad50b7fc1d34d431f8b0">I'm Jared Forsyth</div>
<div style="height: 40px"></div>
<div class="style-683404bf430036582caafb930681970b717e3e38">
<div class="style-da667265deef9362aecb588a818eaba3fef53068">
<a href="/">home</a>
<a href="/posts/">posts</a>
<a href="/projects/">projects</a>
<a href="/talks/">talks</a>
</div>
<div class="style-bb1ef180179301565afe9016b11ab16ed7413965">
<a href="/posts/" class="style-6ae0154d10d8b0dbf4c75fa5adb959a39f9a7739"><div class="style-989db2448f309bfdd99b513f37c84b8f5794d2b5">Latest posts</div></a>
<div style="height: 8px"></div>
<a href="/posts/type-inference-that-sticks/" class="style-0044f7a33153e82f3678591650843ffdc0f020fe">
<div>
 
Type inference that sticks
 
</div>
<div class="style-600fca2a90c30e17c2a20ea4f2f653cf60098d5b">
2023
February
4
</div>
</a>
<a href="/posts/whats-cool-about-unison/" class="style-0044f7a33153e82f3678591650843ffdc0f020fe">
<div>
 
What's cool about Unison?
 
</div>
<div class="style-600fca2a90c30e17c2a20ea4f2f653cf60098d5b">
2021
March
2
</div>
</a>
<a href="/posts/local-first-database-hypermerge/" class="style-0044f7a33153e82f3678591650843ffdc0f020fe">
<div>
 
Local-first database: Hypermerge
 
</div>
<div class="style-600fca2a90c30e17c2a20ea4f2f653cf60098d5b">
2020
September
30
</div>
</a>
<a href="/posts/local-first-database-rxdb-pouchdb/" class="style-0044f7a33153e82f3678591650843ffdc0f020fe">
<div>
 
Local-first database: RxDB + PouchDB
 
</div>
<div class="style-600fca2a90c30e17c2a20ea4f2f653cf60098d5b">
2020
May
12
</div>
</a>
<a href="/posts/local-first-database-remotestorage/" class="style-0044f7a33153e82f3678591650843ffdc0f020fe">
<div>
 
Local-first database: remoteStorage.js
 
</div>
<div class="style-600fca2a90c30e17c2a20ea4f2f653cf60098d5b">
2020
May
6
</div>
</a>
<div style="height: 32px"></div>
</div>
<div style="text-align:center" class="style-74e366023ce61639103d5fb83af3a27e33357285">
<a href="https://twitter.com/jaredforsyth">twitter/@jaredforsyth</a>
<br/>
<a href="https://mastodon.social/@jaredly">@jaredly@mastodon.social</a>
<br/>
<a href="https://github.com/jaredly">github/@jaredly</a>
<br/>
<a href="/posts/rss.xml">posts rss feed</a>
</div>
</div>
</div>
</div>
<div style="flex-basis: 100px; flex-shrink: 1" class="style-ce615c601d9c9081e34880573a9c0d6582fa6737"></div>
<div class="style-cea2d442503956980c7eeb14acb78a14064ee9d4">
<main role="main">
<article>
 
<h1 class="style-92b92032b41d8e558573c6926aeaeeb3456b873e">What Holds Me Back From Clojurescript</h1>
<div class="style-d9a01dccc38720dfd616bfebd6cb0499248e200b">
November
<div style="flex-basis: 4px"></div>
26,
<div style="flex-basis: 4px"></div>
2015
<div style="flex-basis: 8px"></div>
 ¬∑ 
<div style="flex-basis: 8px"></div>
<a href="/tags/javascript/" class="style-fde29ab0420a52958e612784d49ff404f48528ae">javascript</a>, <div style="flex-basis: 4px"></div><a href="/tags/clojurescript/" class="style-fde29ab0420a52958e612784d49ff404f48528ae">clojurescript</a>, <div style="flex-basis: 4px"></div><a href="/tags/clojure/" class="style-fde29ab0420a52958e612784d49ff404f48528ae">clojure</a>
<div style="flex-basis: 8px"></div>

</div>
<div style="height: 32px"></div>
<div class="post-body style-cda9f9781eb5258ad50a00716278a6233b0a6313">
<p>I‚Äôve expressed <a href="https://twitter.com/jaredforsyth/status/507253337310236672">multiple</a> <a href="https://twitter.com/jaredforsyth/status/668947788021960704">times</a> that I really want to get into clojurescript, but I keep running into barriers.</p>
<p>My background: I‚Äôm an experienced JS dev, and for my personal projects I use the latest &amp; greatest of <a href="https://facebook.github.com/react">React</a>, <a href="https://flowtype.org">Flow</a>, <a href="https://babeljs.io">Babel</a>, and <a href="https://webpack.github.io">Webpack</a>, which makes for a pretty rocking experience. Given my background, lots of my hesitation could just be the fact that staying in my comfort zone of javascript is <em>easy</em>, though it may be far less <em>simple</em> than the experience provided by clojurescript.</p>
<p>By the end of this post, I hope I will have convinced myself to face my fears and dive into clojurescript anyway :D</p>
<h3 id="Summary" tabindex="-1"><a class="header-anchor" href="#Summary">Summary</a></h3>
<p>What draws me to clojurescript?</p>
<ul>
<li>the community</li>
<li>immutable all the data</li>
<li>functional to the core</li>
<li>om/next</li>
<li>protocols</li>
<li>macros</li>
</ul>
<p>But what holds me back?</p>
<ul>
<li>startup time is a bear</li>
<li>user-hostile error messages</li>
<li>immature tooling</li>
<li>no good story for type checking</li>
</ul>
<h3 id="What-draws-me-to-clojurescript" tabindex="-1"><a class="header-anchor" href="#What-draws-me-to-clojurescript">What draws me to clojurescript?</a></h3>
<h4 id="The-community" tabindex="-1"><a class="header-anchor" href="#The-community">The community</a></h4>
<p>This is really what keeps drawing me back to clojure(script): realy awesome talks from clojure conj &amp; other clojurey conferences, both about difficult real-world problems and interesting/fun/playful problems. And I keep thinking ‚ÄúI want to be a part of that.‚Äù Also, Rich Hickey‚Äôs talks are fantastic.</p>
<p>From what I‚Äôve seen, the community is still small enough to be pretty cohesive, and there are lots of helpful people on irc and <a href="https://clojurians.net">slack</a>.</p>
<h5 id="vs-Javascript" tabindex="-1"><a class="header-anchor" href="#vs-Javascript">vs Javascript</a></h5>
<p>Javascript has a larger and necessarily much less cohesive community. This can be nice in that almost every error you encounter will have a Stack Overflow question + answer. That said, there are <em>so</em> many stackoverflow results about javascript (from so many different eras of js dev) that it can be really difficult to determine what is current best practice.</p>
<h4 id="Immutable-all-the-data" tabindex="-1"><a class="header-anchor" href="#Immutable-all-the-data">Immutable all the data</a></h4>
<p>Having data be immutable frees up a lot of my complexity budget and enables great functional paradigms across the board.</p>
<h5 id="vs-Javascript-1" tabindex="-1"><a class="header-anchor" href="#vs-Javascript-1">vs Javascript</a></h5>
<p>In javascript, everything is mutable, but w/ new es7 spread/rest syntax it is increasingly easy to just do immutable anyway. E.g. instead of <code class="language-javascript">myobj<span class="token punctuation">.</span>x <span class="token operator">=</span> newx</code> you can do <code class="language-javascript">myobj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>myobj<span class="token punctuation">,</span> <span class="token literal-property property">x</span><span class="token operator">:</span> newx<span class="token punctuation">}</span></code> and everything is immutable &amp; persistant!</p>
<p>And for more data-heavy situations where that breaks down, I can always switch to <code class="language-javascript">mori</code> or <code class="language-javascript">immutable<span class="token punctuation">.</span>js</code>, albeit with significant disadvantages from syntax &amp; interop.</p>
<p>The fact remains however that javascript, at it‚Äôs core, is designed around mutability, and clojurescript is designed around immutability. This has many design, mindset, and culture implications that are not to be underestimated.</p>
<h4 id="Functional-to-the-core" tabindex="-1"><a class="header-anchor" href="#Functional-to-the-core">Functional to the core</a></h4>
<p>Clojurescript, as a lisp, gets a number of advantages automatically when it comes to handling data cleanly and concisely. Things like the threading macro, conj, partial application and more end up defining the feel of the language as well as idioms and best practices. From the brief stints that I‚Äôve spent in clojure-land, I‚Äôve come to really appreciate them &amp; miss them when I‚Äôm in javascript or another imperative languages.</p>
<h5 id="vs-Javascript-2" tabindex="-1"><a class="header-anchor" href="#vs-Javascript-2">vs Javascript</a></h5>
<p>Something like <a href="https://github.com/jussi-kalliokoski/trine">trine</a> might do quite nicely, along with some as-yet very experimental language features (that can nonetheless be used with abandon via babel).</p>
<p>On the other hand, all those little helpers land you with a long list of things to memorize, with their own little tricks and gotchas (I recently spent way too long bugfighting before realizing that <code class="language-javascript">map</code>‚Äôs return value is a <em>lazy</em> sequence). But is it complex, or simply unfamiliar? I put together a bunch of <a href="https://quizlet.com/Jared_Forsyth/folders/clojure">quizlet flashcards</a> to try and overcome this barrier.</p>
<h4 id="Om-next" tabindex="-1"><a class="header-anchor" href="#Om-next">Om/next</a></h4>
<p>Om was pretty neat when it came out, but it looks like om/next has set out to solve all our problems forever :D, at least relating to client-side state management. David Nolen is a really clever guy, and I really want what om/next promises. We‚Äôll see how that pans out.</p>
<h5 id="vs-Javascript-3" tabindex="-1"><a class="header-anchor" href="#vs-Javascript-3">vs Javascript</a></h5>
<p>Relay and Falcor are really interesting, but are focused on the ‚Äúserver communication‚Äù part of the puzzle, leaving the rest of the client-side state up to you. Redux maybe comes closest to om/next, although it just provides a small subset of the functionality. Another possibility is to (just) port om/next <a href="https://twitter.com/swannodette/status/672090146339188736">to javascript</a>, maybe as a layer on top of redux‚Ä¶</p>
<h4 id="Protocols" tabindex="-1"><a class="header-anchor" href="#Protocols">Protocols</a></h4>
<p>I‚Äôm really intrigued by this approach to polymorphism, but I‚Äôll have to use it more to see how it compares. It feels a lot like <code class="language-javascript">swift</code>‚Äôs protocols or <code class="language-javascript">go</code>‚Äôs interfaces or <code class="language-javascript">rust</code>‚Äôs traits, which I find really useful.</p>
<h5 id="vs-Javascript-4" tabindex="-1"><a class="header-anchor" href="#vs-Javascript-4">vs Javascript</a></h5>
<p>These aren‚Äôt really things you can bolt on post-hoc ‚Äì you really need language-level support for them. I can‚Äôt imagine javascript having an equivalent, unless via some babel transform that did whole-program analysis + type inference‚Ä¶</p>
<h4 id="Macros-also-look-cool" tabindex="-1"><a class="header-anchor" href="#Macros-also-look-cool">Macros also look cool‚Ä¶</a></h4>
<p>But I haven‚Äôt used them enough to give a real review. In rust I mostly use macros to get around limitations (mine or the compiler‚Äôs) surrounding types &amp; lifetimes.</p>
<h5 id="vs-Javascript-5" tabindex="-1"><a class="header-anchor" href="#vs-Javascript-5">vs Javascript</a></h5>
<p><a href="http://sweetjs.org/">SweetJS</a> looks really awesome, and there are plans to <a href="https://github.com/mozilla/sweet.js/pull/485">integrate well with babel</a>, but clojurescript still wins from a community + mindset perspective.</p>
<h3 id="But-what-holds-me-back" tabindex="-1"><a class="header-anchor" href="#But-what-holds-me-back">But what holds me back?</a></h3>
<h4 id="Clojure-Startup-time" tabindex="-1"><a class="header-anchor" href="#Clojure-Startup-time">Clojure Startup time</a></h4>
<p><a href="https://twitter.com/borkdude/status/669422012759150592">Twitter tells me</a> that this doesn‚Äôt end up being a huge problem, but it‚Äôs always a huge drag when I try to get started.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">time</span> lein <span class="token builtin class-name">help</span>
<span class="token punctuation">..</span>.
lein <span class="token builtin class-name">help</span>  <span class="token number">1</span>.62s user <span class="token number">0</span>.24s system <span class="token number">104</span>% cpu <span class="token number">1.785</span> total
</code></pre>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">time</span> boot <span class="token builtin class-name">help</span>
<span class="token punctuation">..</span>.
boot <span class="token builtin class-name">help</span>  <span class="token number">11</span>.56s user <span class="token number">0</span>.70s system <span class="token number">278</span>% cpu <span class="token number">4.395</span> total
</code></pre>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">time</span> lein repl
<span class="token operator">></span> <span class="token punctuation">(</span>ctrl-c as soon as prompt appears<span class="token punctuation">)</span>
lein repl  <span class="token number">5</span>.65s user <span class="token number">0</span>.44s system <span class="token number">78</span>% cpu <span class="token number">7.801</span> total
</code></pre>
<p>Someone made an npm package with the bootstrapped clojurescript repl, which helps a lot:</p>
<pre class="language-bash"><code class="language-bash"><span class="token variable">$time</span> cljs
<span class="token operator">></span> <span class="token punctuation">(</span>ctrl-c as soon as prompt appears<span class="token punctuation">)</span>
cljs  <span class="token number">0</span>.95s user <span class="token number">0</span>.13s system <span class="token number">79</span>% cpu <span class="token number">1.361</span> total
</code></pre>
<p><a href="http://blog.ndk.io/2014/02/25/clojure-bootstrapping.html">Here‚Äôs an in-depth look</a> at clojure startup time. There‚Äôs a <a href="https://github.com/technomancy/leiningen/wiki/Faster">long leinigen wiki page</a> about ways to speed things up, which I haven‚Äôt tried yet, and <a href="https://github.com/flatland/drip">drip</a> also looks promising.</p>
<h4 id="vs-Javascript-6" tabindex="-1"><a class="header-anchor" href="#vs-Javascript-6">vs Javascript</a></h4>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">time</span> <span class="token function">npm</span> <span class="token builtin class-name">help</span>
<span class="token punctuation">..</span>.
<span class="token function">npm</span> <span class="token builtin class-name">help</span>  <span class="token number">0</span>.34s user <span class="token number">0</span>.10s system <span class="token number">79</span>% cpu <span class="token number">0.548</span> total
</code></pre>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">time</span> <span class="token function">node</span>
<span class="token operator">></span> <span class="token punctuation">(</span>ctrl-c as soon as prompt appears<span class="token punctuation">)</span>
<span class="token function">node</span>  <span class="token number">0</span>.10s user <span class="token number">0</span>.01s system <span class="token number">20</span>% cpu <span class="token number">0.543</span> total
</code></pre>
<p>Again, some on twitter say ‚Äúit‚Äôs not really a problem‚Äù :/ We‚Äôll have to see how it pans out.</p>
<h4 id="User-hostile-error-messages" tabindex="-1"><a class="header-anchor" href="#User-hostile-error-messages">User-hostile error messages</a></h4>
<p>In the little time I‚Äôve spent with clojure(script), I‚Äôve seen plenty of multiple-screen-long java tracebacks, which are completely bewildering. Certainly, if I had a background in java they wouldn‚Äôt be nearly as foreign, but I don‚Äôt think anyone would argue that they are ‚Äòsimple‚Äô. I don‚Äôt know what kind of effort is going into ‚Äúnicer error messages‚Äù (elm is a <a href="http://elm-lang.org/blog/compilers-as-assistants">great example</a> of this), but if I ever dig into the clojure core system that‚Äôs the first thing I‚Äôd look into.</p>
<h4 id="Immature-tooling" tabindex="-1"><a class="header-anchor" href="#Immature-tooling">Immature tooling</a></h4>
<p>Being compile-to-js in a js world means there‚Äôs always going to be a bit of feature lag, but there are a lot of things I miss when trying to use clojurescript.</p>
<h5 id="REPL" tabindex="-1"><a class="header-anchor" href="#REPL">REPL</a></h5>
<p>People talking about clojure(script) frequently shout from the rooftops about how awesome it is to have a repl, and I‚Äôm sure it‚Äôs night &amp; day when coming from java, c++, etc. But chrome devtools is way ahead of your cli repl (and even your editor-integrated repl) in a bunch of important ways, and you can‚Äôt use clojurescript in the devtools console.</p>
<p>The same is true for babel/es7+, but the problem is much less because es7+ is just a (fairly) light sprinkle on top of js, and data structures are all the same, etc.
To call a clojurescript function from the console‚Ä¶ I‚Äôm not even sure how to get a reference to a function when you‚Äôre at a breakpoint (because names are so mangled).</p>
<p>Someone made <a href="https://chrome.google.com/webstore/detail/clojurescript-repl/lmjjlapjpjeodaadkljnmdfbjpfddchm?hl=en">a chrome extension</a> to give you a tab that is a clojurescript repl, but it uses an external server for compilation and doesn‚Äôt integrate into your project. If it integrated with figwheel (or could talk to an arbitrary nRepl) that would be a good start.</p>
<h5 id="Debugging" tabindex="-1"><a class="header-anchor" href="#Debugging">Debugging</a></h5>
<p>It‚Äôs a great start that clojurescript has full sourcemap support, so you can generally see where you are in what file when you hit a breakpoint or throw an error, but there‚Äôs still a lot to be desired. It‚Äôs rather difficult (for me) to tell how to step through a clojurescript program ‚Äì when to step in &amp; out in order to get where I want.</p>
<p>Also, in javascript, there‚Äôs mostly just one and rarely more than three break-able expressions on a given line (such that hitting ‚Äúnext‚Äù would leave you on the same line). In clojurescript there is rarely just one break-able expression on a line, and more often several. Every time I try to navigate this it is frustrating.</p>
<p>The other big debugging issue is with value display &amp; repl integration. When I‚Äôm at a breakpoint, it‚Äôs really difficult to introspect values and actually understand what a given map contains, for example. Someone has <a href="https://github.com/binaryage/cljs-devtools">a library that fixes this</a> but it requires a chrome feature that‚Äôs behind a flag in canary :/. I also want to be able to interact with the values at the console (see REPL section).</p>
<h4 id="No-good-story-for-type-checking" tabindex="-1"><a class="header-anchor" href="#No-good-story-for-type-checking">No good story for type checking</a></h4>
<p>Core.typed generated a lot of excitement when it first showed up a few years ago, although circleci has since decided it <a href="http://blog.circleci.com/why-were-no-longer-using-core-typed/">wasn‚Äôt worth it</a>. It‚Äôs based on racket‚Äôs optional type checker, which I highly respect, so I was hoping to try it out on an example clojurescript project, but unfortunately compatability hasn‚Äôt been maintained and it‚Äôs broken for the latest version of clojurescript. But <a href="https://twitter.com/jaredforsyth/status/669917598016868352">hopefully</a> this will be fixed at some point.</p>
<p>The Google closure compiler (which cljs already uses extensively) has support for type checking, including inference and even generics, and there are some experiments around leveraging that in clojurescript. It remains to be seen whether it will prove a good experience. I‚Äôm a bit skeptical that it will be able to give really good error messages &amp; hints when you have type errors though. It also doesn‚Äôt support typing maps, which make up a large part of clojure data.</p>
<h5 id="vs-Javascript-7" tabindex="-1"><a class="header-anchor" href="#vs-Javascript-7">vs Javascript</a></h5>
<p>I had the chance to use <a href="https://flowtype.org">Flow</a> on a large-scale project (the <a href="https://github.com/facebook/react-devtools">React devtools</a> rewrite) and I loved it! It can be added incrementally to a codebase, has great support for lots of javascript idioms, realy great inference, and a solid user experience (long-running server to fix wait times).</p>
<h3 id="Conclusion" tabindex="-1"><a class="header-anchor" href="#Conclusion">Conclusion</a></h3>
<p>Clojurescript really has a lot of things going for it, and a lot of the issues I have are actively being worked on. I‚Äôm going to try using clojurescript + om/next for a fairly large personal project pretty soon and we‚Äôll see if I get hooked :)</p>

</div>
 
</article>
</main>
<div style="height: 128px"></div>
</div>
<div style="flex-basis: 100px; flex-shrink: 1" class="style-ce615c601d9c9081e34880573a9c0d6582fa6737"></div>
</div>
</body>
</html>